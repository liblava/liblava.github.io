\doxysection{gamepad.\+hpp}
\hypertarget{gamepad_8hpp_source}{}\label{gamepad_8hpp_source}\index{liblava/frame/gamepad.hpp@{liblava/frame/gamepad.hpp}}
\mbox{\hyperlink{gamepad_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{id_8hpp}{liblava/core/id.hpp}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }lava\ \{}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{gamepad_8hpp_a9c84923c4dc78344da664c372a377596}{gamepad\_id}}\ :\ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \_1\ =\ 0,}
\DoxyCodeLine{00019\ \ \ \ \ \_2,}
\DoxyCodeLine{00020\ \ \ \ \ \_3,}
\DoxyCodeLine{00021\ \ \ \ \ \_4,}
\DoxyCodeLine{00022\ \ \ \ \ \_5,}
\DoxyCodeLine{00023\ \ \ \ \ \_6,}
\DoxyCodeLine{00024\ \ \ \ \ \_7,}
\DoxyCodeLine{00025\ \ \ \ \ \_8,}
\DoxyCodeLine{00026\ \ \ \ \ \_9,}
\DoxyCodeLine{00027\ \ \ \ \ \_10,}
\DoxyCodeLine{00028\ \ \ \ \ \_11,}
\DoxyCodeLine{00029\ \ \ \ \ \_12,}
\DoxyCodeLine{00030\ \ \ \ \ \_13,}
\DoxyCodeLine{00031\ \ \ \ \ \_14,}
\DoxyCodeLine{00032\ \ \ \ \ \_15,}
\DoxyCodeLine{00033\ \ \ \ \ \_16,}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ last\ =\ \_16,}
\DoxyCodeLine{00036\ \};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{using\ }\mbox{\hyperlink{gamepad_8hpp_aafe3c39cabffbb74a87fb4a5b62c1d88}{gamepad\_id\_ref}}\ =\ \mbox{\hyperlink{gamepad_8hpp_a9c84923c4dc78344da664c372a377596}{gamepad\_id}}\ \textcolor{keyword}{const}\&;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{gamepad_8hpp_a165ecdb0f8cfd572123f4952c2c3ce39}{gamepad\_button}}\ :\ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \{}
\DoxyCodeLine{00045\ \ \ \ \ a\ =\ 0,}
\DoxyCodeLine{00046\ \ \ \ \ b,}
\DoxyCodeLine{00047\ \ \ \ \ x,}
\DoxyCodeLine{00048\ \ \ \ \ y,}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ left\_bumper,}
\DoxyCodeLine{00051\ \ \ \ \ right\_bumper,}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ back,}
\DoxyCodeLine{00054\ \ \ \ \ start,}
\DoxyCodeLine{00055\ \ \ \ \ guide,}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ left\_thumb,}
\DoxyCodeLine{00058\ \ \ \ \ right\_thumb,}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ dpad\_up,}
\DoxyCodeLine{00061\ \ \ \ \ dpad\_right,}
\DoxyCodeLine{00062\ \ \ \ \ dpad\_down,}
\DoxyCodeLine{00063\ \ \ \ \ dpad\_left,}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ last\ =\ dpad\_left,}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ cross\ =\ a,}
\DoxyCodeLine{00068\ \ \ \ \ circle\ =\ b,}
\DoxyCodeLine{00069\ \ \ \ \ square\ =\ x,}
\DoxyCodeLine{00070\ \ \ \ \ triangle\ =\ y,}
\DoxyCodeLine{00071\ \};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{using\ }\mbox{\hyperlink{gamepad_8hpp_a2580191222c823be813184b47dfd2cdb}{gamepad\_button\_ref}}\ =\ \mbox{\hyperlink{gamepad_8hpp_a165ecdb0f8cfd572123f4952c2c3ce39}{gamepad\_button}}\ \textcolor{keyword}{const}\&;}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00079\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{gamepad_8hpp_a3e5d0f5bbfdfbbe860056801ff17b30a}{gamepad\_axis}}\ :\ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \{}
\DoxyCodeLine{00080\ \ \ \ \ left\_x\ =\ 0,}
\DoxyCodeLine{00081\ \ \ \ \ left\_y,}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ right\_x,}
\DoxyCodeLine{00084\ \ \ \ \ right\_y,}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ left\_trigger,}
\DoxyCodeLine{00087\ \ \ \ \ right\_trigger,}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ last\ =\ right\_trigger,}
\DoxyCodeLine{00090\ \};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{using\ }\mbox{\hyperlink{gamepad_8hpp_a366d568b96562a9477efd0c619ebdfe0}{gamepad\_axis\_ref}}\ =\ \mbox{\hyperlink{gamepad_8hpp_a3e5d0f5bbfdfbbe860056801ff17b30a}{gamepad\_axis}}\ \textcolor{keyword}{const}\&;}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00098\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlava_1_1gamepad_ae95abf4ad788bf24bfa1ec1e3da3916f}{gamepad}}\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1gamepad_a4f3fd03973e46439e28b2579567c66c5}{list}}\ =\ std::vector<gamepad>;}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1gamepad_ae9c3ebf9c404adc56a5415c6f364a081}{ref}}\ =\ \mbox{\hyperlink{structlava_1_1gamepad_ae95abf4ad788bf24bfa1ec1e3da3916f}{gamepad}}\ \textcolor{keyword}{const}\&;}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structlava_1_1gamepad_ae95abf4ad788bf24bfa1ec1e3da3916f}{gamepad}}(\mbox{\hyperlink{gamepad_8hpp_aafe3c39cabffbb74a87fb4a5b62c1d88}{gamepad\_id\_ref}}\ pad\_id\ =\ gamepad\_id::\_1);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1gamepad_acabe1c062826b2dcb67f0fc00154a160}{ready}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1gamepad_aabac3d30d01e9dd375ead54c1c5b10bd}{update}}();}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1gamepad_ac90d1eee47035ca9b82532ab0b7d884c}{pressed}}(\mbox{\hyperlink{gamepad_8hpp_a2580191222c823be813184b47dfd2cdb}{gamepad\_button\_ref}}\ button)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_state.buttons[\mbox{\hyperlink{types_8hpp_aeeecf3eba131cdad020bbd82d0db68c9}{to\_ui32}}(button)];}
\DoxyCodeLine{00130\ \ \ \ \ \}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{types_8hpp_a3a32680a459890aa9c80b4f5533b3b1f}{r32}}\ \mbox{\hyperlink{structlava_1_1gamepad_ad220c7bd9e52c4e815f1a20b63a861a5}{value}}(\mbox{\hyperlink{gamepad_8hpp_a366d568b96562a9477efd0c619ebdfe0}{gamepad\_axis\_ref}}\ axis)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_state.axes[\mbox{\hyperlink{types_8hpp_aeeecf3eba131cdad020bbd82d0db68c9}{to\_ui32}}(axis)];}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00145\ \ \ \ \ \mbox{\hyperlink{gamepad_8hpp_aafe3c39cabffbb74a87fb4a5b62c1d88}{gamepad\_id\_ref}}\ \mbox{\hyperlink{structlava_1_1gamepad_a7f1f6e3f29fa9b39c4057558bd2fd56c}{get\_pad\_id}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_pad\_id;}
\DoxyCodeLine{00147\ \ \ \ \ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{types_8hpp_ae3c4bbc50dd4583ab0df2c24c49a49c9}{ui32}}\ \mbox{\hyperlink{structlava_1_1gamepad_abcfae8ef0a2df6257fea46813ddcb4f2}{get\_id}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{types_8hpp_aeeecf3eba131cdad020bbd82d0db68c9}{to\_ui32}}(\mbox{\hyperlink{structlava_1_1gamepad_a7f1f6e3f29fa9b39c4057558bd2fd56c}{get\_pad\_id}}());}
\DoxyCodeLine{00155\ \ \ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{types_8hpp_a6ac8e87ce8d5b170084592abbef3b8c9}{name}}\ \mbox{\hyperlink{structlava_1_1gamepad_ad09f81e751d7878d88448f787d446a72}{get\_name}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{gamepad_8hpp_a9c84923c4dc78344da664c372a377596}{gamepad\_id}}\ m\_pad\_id;}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{struct\ }state\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8hpp_a4d505d1722d977311ee2a14d104f10f3}{uchar}}\ buttons[15];}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8hpp_a3a32680a459890aa9c80b4f5533b3b1f}{r32}}\ axes[6];}
\DoxyCodeLine{00176\ \ \ \ \ \};}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00179\ \ \ \ \ gamepad::state\ m\_state;}
\DoxyCodeLine{00180\ \};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00186\ \mbox{\hyperlink{structlava_1_1gamepad_a4f3fd03973e46439e28b2579567c66c5}{gamepad::list}}\ \mbox{\hyperlink{gamepad_8hpp_a7a776fd083c4b25475e8aadfe3ad7b2d}{gamepads}}();}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00191\ \textcolor{keyword}{struct\ }gamepad\_manager\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1gamepad__manager_ae5af976eebf84c9ec5ce530ac6fea316}{listener\_func}}\ =\ std::function<bool(\mbox{\hyperlink{structlava_1_1gamepad}{gamepad}},\ \textcolor{keywordtype}{bool})>;}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keyword}{static}\ gamepad\_manager\&\ \mbox{\hyperlink{structlava_1_1gamepad__manager_afad0d16868d78fd3b67e255b26284de3}{singleton}}()\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ gamepad\_manager\ manager;}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ manager;}
\DoxyCodeLine{00202\ \ \ \ \ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordtype}{id}\ \mbox{\hyperlink{structlava_1_1gamepad__manager_a39bb10a613ff406dbebf41d4c122ba1d}{add}}(\mbox{\hyperlink{structlava_1_1gamepad__manager_ae5af976eebf84c9ec5ce530ac6fea316}{listener\_func}}\ listener);}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1gamepad__manager_a4006326be8e458c1c1cca8ffe19f4e66}{remove}}(\mbox{\hyperlink{structlava_1_1id_a226df789a94177f765bdcaac2988eda0}{id::ref}}\ func\_id);}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keyword}{explicit}\ gamepad\_manager();}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keyword}{using\ }listener\_map\ =\ std::map<id,\ listener\_func>;}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00227\ \ \ \ \ listener\_map\ m\_map;}
\DoxyCodeLine{00228\ \};}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \}\ \textcolor{comment}{//\ namespace\ lava}}

\end{DoxyCode}
