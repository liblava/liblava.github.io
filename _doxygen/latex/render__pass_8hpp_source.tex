\doxysection{render\+\_\+pass.\+hpp}
\hypertarget{render__pass_8hpp_source}{}\label{render__pass_8hpp_source}\index{liblava/block/render\_pass.hpp@{liblava/block/render\_pass.hpp}}
\mbox{\hyperlink{render__pass_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{device_8hpp}{liblava/base/device.hpp}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{attachment_8hpp}{liblava/block/attachment.hpp}}"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{subpass_8hpp}{liblava/block/subpass.hpp}}"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }lava\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlava_1_1render__pass}{render\_pass}}\ :\ \mbox{\hyperlink{structlava_1_1entity}{entity}}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1render__pass_a6432d705ed6721ad579bac7264eb1f34}{s\_ptr}}\ =\ std::shared\_ptr<render\_pass>;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1render__pass_a3c2be2c9e866e1e2b655f9bc6c757ca3}{s\_list}}\ =\ std::vector<s\_ptr>;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structlava_1_1render__pass_a6432d705ed6721ad579bac7264eb1f34}{s\_ptr}}\ \mbox{\hyperlink{structlava_1_1render__pass_a1bdb8601c9eff7675f173c574a9d4d48}{make}}(\mbox{\hyperlink{structlava_1_1device}{device::ptr}}\ \mbox{\hyperlink{structlava_1_1device}{device}})\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_shared<render\_pass>(\mbox{\hyperlink{structlava_1_1device}{device}});}
\DoxyCodeLine{00033\ \ \ \ \ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structlava_1_1render__pass_ad7592aec10ad9cec0a89cd8b6f056b8d}{render\_pass}}(\mbox{\hyperlink{structlava_1_1device}{device::ptr}}\ \mbox{\hyperlink{structlava_1_1device}{device}});}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1render__pass_a78221218aef07a24578820956123dd8a}{create}}(\mbox{\hyperlink{base_2base_8hpp_a5d9774191fbb48cbd1d60cd9216a5e1b}{VkAttachmentsRef}}\ target\_attachments,}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlava_1_1rect_a1ed1fdead3bf333d3f93e65920392d5b}{rect::ref}}\ area);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_a5f05533d4ef4390159efbc8c28db7c65}{destroy}}();}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_ac05d958ee34c68f606d7c313ae30a970}{process}}(VkCommandBuffer\ cmd\_buf,}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \mbox{\hyperlink{structlava_1_1frame}{frame}});}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{structlava_1_1device}{device::ptr}}\ \mbox{\hyperlink{structlava_1_1render__pass_a400d4d29da1b4d0b636fcdeb44645bf6}{get\_device}}()\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_device;}
\DoxyCodeLine{00069\ \ \ \ \ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00075\ \ \ \ \ VkRenderPass\ \mbox{\hyperlink{structlava_1_1render__pass_a3cf22a97116c4740f683a78a8f62f93c}{get}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_vk\_render\_pass;}
\DoxyCodeLine{00077\ \ \ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{types_8hpp_ae3c4bbc50dd4583ab0df2c24c49a49c9}{ui32}}\ \mbox{\hyperlink{structlava_1_1render__pass_add1bcc7c7fe347bbb63975fa052037c3}{get\_subpass\_count}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{types_8hpp_aeeecf3eba131cdad020bbd82d0db68c9}{to\_ui32}}(m\_subpasses.size());}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1render__pass_adde61aee8afe6ed24140298a3e3a7980}{exists\_subpass}}(\mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ =\ 0)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ <\ m\_subpasses.size();}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{structlava_1_1subpass}{subpass}}*\ \mbox{\hyperlink{structlava_1_1render__pass_af60ff6646b107eeb4749d5e56b826dda}{get\_subpass}}(\mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ =\ 0)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_subpasses.at(\mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}).get();}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{structlava_1_1subpass_ad47bf8080d9808aa631430944f1eb610}{subpass::s\_list}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structlava_1_1render__pass_aa2b0229d0732fa4635c61f4d358df8a4}{get\_subpasses}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_subpasses;}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_ac237ae942d9d4741b8134f0730255041}{add}}(\mbox{\hyperlink{structlava_1_1attachment_a78a2a1ebf26152f830e38beb84276a27}{attachment::s\_ptr}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structlava_1_1attachment}{attachment}})\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ m\_attachments.push\_back(\mbox{\hyperlink{structlava_1_1attachment}{attachment}});}
\DoxyCodeLine{00119\ \ \ \ \ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_aeca3112d7b6c3f4c4dea882dd08290a6}{add}}(\mbox{\hyperlink{structlava_1_1subpass__dependency_ac6b906e5c158e19fce6d0f60c2e57c6c}{subpass\_dependency::s\_ptr}}\ \textcolor{keyword}{const}\&\ dependency)\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ m\_dependencies.push\_back(dependency);}
\DoxyCodeLine{00127\ \ \ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_ac0decb108b116deca44d4303b2b77c52}{add}}(\mbox{\hyperlink{structlava_1_1subpass_a0626da80e598a5ee3386eb0abd2b3591}{subpass::s\_ptr}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structlava_1_1subpass}{subpass}})\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ m\_subpasses.push\_back(\mbox{\hyperlink{structlava_1_1subpass}{subpass}});}
\DoxyCodeLine{00135\ \ \ \ \ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_a714f010d5873210d139aef95568e5a81}{set\_clear\_values}}(\mbox{\hyperlink{base_2base_8hpp_a263ed5914a698556450a6132571fa854}{VkClearValues}}\ \textcolor{keyword}{const}\&\ values)\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ m\_clear\_values\ =\ values;}
\DoxyCodeLine{00143\ \ \ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{base_2base_8hpp_a263ed5914a698556450a6132571fa854}{VkClearValues}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structlava_1_1render__pass_af0d5e8574d21d2d25fe093aa09494cb3}{get\_clear\_values}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_clear\_values;}
\DoxyCodeLine{00151\ \ \ \ \ \}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_ad319cf1e33f1825dea9e39a0dca3b538}{set\_clear\_color}}(\mbox{\hyperlink{math_8hpp_a4384995facacf81c4762b81285341e78}{v3}}\ value\ =\ \{\});}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00163\ \ \ \ \ \mbox{\hyperlink{math_8hpp_a4384995facacf81c4762b81285341e78}{v3}}\ \mbox{\hyperlink{structlava_1_1render__pass_a73bcdb3a9f8765397e156eb3bc6f9a1d}{get\_clear\_color}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_af5c2408a9a6c4171dde95044abee1df6}{add}}(\mbox{\hyperlink{structlava_1_1render__pipeline_a7177a0f9ce21dd18b6f7befe611649dd}{render\_pipeline::s\_ptr}}\ \mbox{\hyperlink{structlava_1_1pipeline}{pipeline}},}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \mbox{\hyperlink{structlava_1_1subpass}{subpass}}\ =\ 0)\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ m\_subpasses.at(\mbox{\hyperlink{structlava_1_1subpass}{subpass}})-\/>add(\mbox{\hyperlink{structlava_1_1pipeline}{pipeline}});}
\DoxyCodeLine{00173\ \ \ \ \ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_acc98481443ae51f364599944f3a9214a}{add\_front}}(\mbox{\hyperlink{structlava_1_1render__pipeline_a7177a0f9ce21dd18b6f7befe611649dd}{render\_pipeline::s\_ptr}}\ \mbox{\hyperlink{structlava_1_1pipeline}{pipeline}},}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \mbox{\hyperlink{structlava_1_1subpass}{subpass}}\ =\ 0)\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ m\_subpasses.at(\mbox{\hyperlink{structlava_1_1subpass}{subpass}})-\/>add\_front(\mbox{\hyperlink{structlava_1_1pipeline}{pipeline}});}
\DoxyCodeLine{00183\ \ \ \ \ \}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1render__pass_a081d622664f4e7e6531195f1e4974552}{remove}}(\mbox{\hyperlink{structlava_1_1render__pipeline_a7177a0f9ce21dd18b6f7befe611649dd}{render\_pipeline::s\_ptr}}\ \mbox{\hyperlink{structlava_1_1pipeline}{pipeline}},}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ \mbox{\hyperlink{structlava_1_1subpass}{subpass}}\ =\ 0)\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ m\_subpasses.at(\mbox{\hyperlink{structlava_1_1subpass}{subpass}})-\/>remove(\mbox{\hyperlink{structlava_1_1pipeline}{pipeline}});}
\DoxyCodeLine{00193\ \ \ \ \ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00199\ \ \ \ \ \mbox{\hyperlink{structlava_1_1target__callback}{target\_callback}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structlava_1_1render__pass_a97f73b004d58836f92bff74b9cfea353}{get\_target\_callback}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_callback;}
\DoxyCodeLine{00201\ \ \ \ \ \}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{structlava_1_1device}{device::ptr}}\ m\_device\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00208\ \ \ \ \ VkRenderPass\ m\_vk\_render\_pass\ =\ VK\_NULL\_HANDLE;}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00211\ \ \ \ \ \mbox{\hyperlink{base_2base_8hpp_a18fe5b86fb1c98ec4f07db9bde567631}{VkFramebuffers}}\ m\_framebuffers\ =\ \{\};}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00214\ \ \ \ \ \mbox{\hyperlink{structlava_1_1attachment_ac9aa19183cdf766e9a809966602ca265}{attachment::s\_list}}\ m\_attachments;}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{structlava_1_1subpass__dependency_a6ace8aff487ed1ff9434ff974c9165d8}{subpass\_dependency::s\_list}}\ m\_dependencies;}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{structlava_1_1subpass_ad47bf8080d9808aa631430944f1eb610}{subpass::s\_list}}\ m\_subpasses;}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00223\ \ \ \ \ VkClearValues\ m\_clear\_values\ =\ \{\};}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00226\ \ \ \ \ rect\ m\_area;}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00229\ \ \ \ \ target\_callback\ m\_callback;}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keywordtype}{void}\ begin(VkCommandBuffer\ cmd\_buf,}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ index\ frame);}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keywordtype}{void}\ end(VkCommandBuffer\ cmd\_buf);}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keywordtype}{bool}\ on\_target\_created(VkAttachmentsRef\ target\_attachments,}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlava_1_1rect_a1ed1fdead3bf333d3f93e65920392d5b}{rect::ref}}\ area);}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_target\_destroyed();}
\DoxyCodeLine{00258\ \};}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \}\ \textcolor{comment}{//\ namespace\ lava}}

\end{DoxyCode}
