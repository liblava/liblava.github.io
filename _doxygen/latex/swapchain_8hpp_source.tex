\doxysection{swapchain.\+hpp}
\hypertarget{swapchain_8hpp_source}{}\label{swapchain_8hpp_source}\index{liblava/frame/swapchain.hpp@{liblava/frame/swapchain.hpp}}
\mbox{\hyperlink{swapchain_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{image_8hpp}{liblava/resource/image.hpp}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }lava\ \{}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlava_1_1swapchain}{swapchain}}\ :\ \mbox{\hyperlink{structlava_1_1entity}{entity}}\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_af8b9630411168cbdc416cf0d24dfea39}{create}}(\mbox{\hyperlink{structlava_1_1device}{device::ptr}}\ \mbox{\hyperlink{structlava_1_1device}{device}},}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ VkSurfaceKHR\ surface,}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ VkSurfaceFormatKHR\ format,}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{math_8hpp_ad63e913ea06491bbe4e45588b35587df}{uv2}}\ size,}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_af524788d4411c4205db54d5ed9454b88}{v\_sync}}\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_a0b65d216e6be2dcf797b65d27dba5b6c}{triple\_buffer}}\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1swapchain_a5e3664831939f1ced3c5c352656b7e56}{destroy}}();}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_aa07ecb458ba621fb1ca281969de51611}{resize}}(\mbox{\hyperlink{math_8hpp_ad63e913ea06491bbe4e45588b35587df}{uv2}}\ new\_size);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1swapchain_a521e6a4d528080bb7f08b270acfc55d9}{request\_reload}}()\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ m\_reload\_request\_active\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00052\ \ \ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_a5329fb28a938b547f44896200bafbb69}{reload\_request}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_reload\_request\_active;}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{structlava_1_1device}{device::ptr}}\ \mbox{\hyperlink{structlava_1_1swapchain_a6bc4d9f17fbe1f26963dcdef108c8d19}{get\_device}}()\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_device;}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{math_8hpp_ad63e913ea06491bbe4e45588b35587df}{uv2}}\ \mbox{\hyperlink{structlava_1_1swapchain_a215d372f28ff63e9380daa6bdb1b20d4}{get\_size}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_size;}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00082\ \ \ \ \ VkFormat\ \mbox{\hyperlink{structlava_1_1swapchain_ac89fc6e2cc8808b2535b8a922696873f}{get\_format}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_format.format;}
\DoxyCodeLine{00084\ \ \ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00090\ \ \ \ \ VkColorSpaceKHR\ \mbox{\hyperlink{structlava_1_1swapchain_acb79990c2af08536400fcd2ce0ee5c1f}{get\_color\_space}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_format.colorSpace;}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00098\ \ \ \ \ VkSwapchainKHR\ \mbox{\hyperlink{structlava_1_1swapchain_ae9cdc4102b140aa080aecee6b8c30672}{get}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_vk\_swapchain;}
\DoxyCodeLine{00100\ \ \ \ \ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{types_8hpp_ae3c4bbc50dd4583ab0df2c24c49a49c9}{ui32}}\ \mbox{\hyperlink{structlava_1_1swapchain_a3fae6439a7f077ab240de83932ad23c2}{get\_backbuffer\_count}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{types_8hpp_aeeecf3eba131cdad020bbd82d0db68c9}{to\_ui32}}(m\_backbuffers.size());}
\DoxyCodeLine{00108\ \ \ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{structlava_1_1image_a5e307b53ee5524d733a67eb086060d4c}{image::s\_list}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structlava_1_1swapchain_a5e4dbed644ce36b141b4f8bbe74fb642}{get\_backbuffers}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_backbuffers;}
\DoxyCodeLine{00116\ \ \ \ \ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlava_1_1swapchain_1_1callback}{callback}}\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a23250ad3fa53f8a95fef00c79c2ae96b}{list}}\ =\ std::vector<callback*>;}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a00251e4ba4f716fa7755b922eddbbb26}{created\_func}}\ =\ std::function<bool()>;}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a00251e4ba4f716fa7755b922eddbbb26}{created\_func}}\ \mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a4fd0c6e0afdd8aa14fde412eb17b9dbb}{on\_created}};}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a7f986018c2ea727c8f63f7a74bbe0394}{destroyed\_func}}\ =\ std::function<void()>;}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a7f986018c2ea727c8f63f7a74bbe0394}{destroyed\_func}}\ \mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a83202164f090e5b7ebbc10b7af8bada6}{on\_destroyed}};}
\DoxyCodeLine{00136\ \ \ \ \ \};}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1swapchain_aa0f1dc61fdbd6d90d70602216824569a}{add\_callback}}(\mbox{\hyperlink{structlava_1_1swapchain_1_1callback}{callback}}*\ cb);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structlava_1_1swapchain_a3492a31d76e85ead2eb089e19d041032}{remove\_callback}}(\mbox{\hyperlink{structlava_1_1swapchain_1_1callback}{callback}}*\ cb);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_af524788d4411c4205db54d5ed9454b88}{v\_sync}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_v\_sync\_active;}
\DoxyCodeLine{00156\ \ \ \ \ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_a0b65d216e6be2dcf797b65d27dba5b6c}{triple\_buffer}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_triple\_buffer\_active;}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlava_1_1swapchain_a2ba8d162d3d6159cd197ca0a540c6b68}{surface\_supported}}(\mbox{\hyperlink{types_8hpp_a2a40eb7fccb1ebcfd58d6d4b7a078e5c}{index}}\ queue\_family)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00179\ \ \ \ \ VkPresentModeKHR\ choose\_present\_mode(\mbox{\hyperlink{base_2base_8hpp_a31e005633f6b721fd471413d4d306cff}{VkPresentModeKHRs}}\ \textcolor{keyword}{const}\&\ present\_modes)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00186\ \ \ \ \ VkSwapchainCreateInfoKHR\ create\_info(\mbox{\hyperlink{base_2base_8hpp_a31e005633f6b721fd471413d4d306cff}{VkPresentModeKHRs}}\ present\_modes);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordtype}{bool}\ setup();}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{void}\ teardown();}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{void}\ destroy\_backbuffer\_views();}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{structlava_1_1device}{device::ptr}}\ m\_device\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00208\ \ \ \ \ VkSurfaceKHR\ m\_surface\ =\ VK\_NULL\_HANDLE;}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00211\ \ \ \ \ VkSurfaceFormatKHR\ m\_format\ =\ \{\};}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00214\ \ \ \ \ VkSwapchainKHR\ m\_vk\_swapchain\ =\ VK\_NULL\_HANDLE;}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{structlava_1_1image_a5e307b53ee5524d733a67eb086060d4c}{image::s\_list}}\ m\_backbuffers;}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{math_8hpp_ad63e913ea06491bbe4e45588b35587df}{uv2}}\ m\_size;}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_reload\_request\_active\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_v\_sync\_active\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_triple\_buffer\_active\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00232\ \ \ \ \ \mbox{\hyperlink{structlava_1_1swapchain_1_1callback_a23250ad3fa53f8a95fef00c79c2ae96b}{callback::list}}\ m\_callbacks;}
\DoxyCodeLine{00233\ \};}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \}\ \textcolor{comment}{//\ namespace\ lava}}

\end{DoxyCode}
